---
import Layout from "../layouts/Layout.astro";
import Button from "../components/Button.astro";
import Input from "../components/Input.astro";
import Download from "../components/Download.astro";
import QR from "../icons/QR.astro";
import Down from "../icons/Download.astro";
import Reload from "../icons/Reload.astro";
import WhatsApp from "../icons/WhatsApp.astro";
import Link from "../icons/Link.astro";
import TextArea from "../components/TextArea.astro";
import Radio from "../components/Radio.astro";
---

<Layout
    title="Generar códigos QR"
    meta_description="Crea códigos QR de una manera múy rapida y fácil con está increible herramienta."
>
    <main class="w-container mx-auto pt-4">
        <header class="mt-5 mb-4">
            <h1 class="text-4xl font-medium">Generador de Códigos QR</h1>
            <ul class="flex mt-5 gap-2 rounded-md">
                <li>
                    <Radio checked id="rLink" name="select">
                        <Link class="inline me-1 mb-1" />
                        Enlace
                    </Radio>      
                </li>
                <li>
                    <Radio id="rWhatsapp" name="select">
                        <WhatsApp class="inline me-1 mb-1" />
                        WhatsApp
                    </Radio>      
                </li>
            </ul>
        </header>
        <hr class="h-px mb-8 mt-4 bg-slate-500 border-0">
        <article class="w-full flex items-start gap-5 flex-col md:flex-row">
            <section class="flex-1">
                <h2 class="text-2xl font-semibold text-ellipsis text-nowrap">Información del QR</h2>
                
                <div id="sEnlace">
                    <Input placeholder="Ej: https://www.danidevs.com" id="inpURLQr" name="contentQR" >Ingresa un URL</Input>
                </div>
                
                <div class="hidden" id="sWhatsapp">
                    <Input id="inpNumber" placeholder="Ej: 7811084478">WhatsApp</Input>
                    <TextArea name="message" id="taMsgWhats" placeholder="Mensaje de Whatsapp">Mensaje</TextArea>
                </div>

                <!-- Ajustes de tamaño -->
                <!-- <div class="mb-3">
                    <label class="text-slate-200 pb-3 block mt-4" for="sizeQR">
                        Tamaño de la imagen <span class="font-semibold"><span id="sizePX">410</span>px</span>
                    </label>
                    <input type="range" value="5" min="1" step="0.5" max="100" class="block mb-2 text-sm font-medium text-gray-900 w-full" name="sizeQR" id="sizeQR">
                </div> -->

                <!-- Controles -->
                <div class="flex gap-2">
                    <Button class="flex-1" type="button" id="btnGenerar">
                        <QR class="h-6" />
                        Generar QR
                    </Button>
                    <Button class="flex-1 bg-red-500 hover:bg-red-600 hover:shadow-red-900" type="button" id="btnReset">
                        <Reload class="h-6" />
                        Limpiar
                    </Button>
                </div>

                <!-- Detalles  -->
                <p class="text-pretty mt-3">Generá el código QR que necesitas ingresando la información que se te está solicitando en los campos de arriba y presiona en generar.</p>
            </section>

            <section class="flex-1 p-3 border-slate-500 border-2 rounded-md bg-slate-600 shadow-xl bg-opacity-20 backdrop-blur-md">
                <header class="mb-3">
                    <h2 class="text-xl"></h2>
                    <div class="aspect-square" id="contentQR"></div>
                </header>
                <footer>
                    <h2 class="mb-3 font-semibold"><Down class="h-6 inline mb-1" /> Area de descargas</h2>
                    <section class="flex gap-1">
                        <Download id="btnDownloadPNG" download="qr.png" class="flex-1">PNG</Download>
                        <Download id="btnDownloadSVG" download="qr.svg" class="flex-1">SVG</Download>
                    </section>
                </footer>
            </section>
        </article>
    </main>


    <footer class="fixed bottom-0 left-0 w-full text-center">
        <div class="w-container mx-auto p-4 backdrop-blur">
            <span class="text-slate-200">Todos los derechos reservador &COPY; <a target="_blank" class="text-white hover:text-indigo-500" href="https://danidevs.com">DaniDevs</a> 2024 | <a class="text-white hover:text-indigo-500" href="mailto:hola@danidevs.com">Contácta con el Desarrollador</a></span>
        </div>
    </footer>
    <script src="../assets/js/generadorQR.js"></script>
</Layout>
